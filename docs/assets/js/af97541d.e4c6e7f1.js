"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8278],{4413:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>g,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var n=i(58168),a=(i(96540),i(15680));i(41873);const r={},l="Rate limits",o={unversionedId:"integrate-with-nbold/api/rate-limits",id:"integrate-with-nbold/api/rate-limits",title:"Rate limits",description:"The nBold API allows you to access data and to perform operations on multiple services. These services impose their own rate limits that affect applications that use nBold API to access them.",source:"@site/contents/70-integrate-with-nbold/10-api/40-rate-limits.md",sourceDirName:"70-integrate-with-nbold/10-api",slug:"/integrate-with-nbold/api/rate-limits",permalink:"/integrate-with-nbold/api/rate-limits",draft:!1,editUrl:"https://github.com/nboldhq/docs/tree/main/contents/70-integrate-with-nbold/10-api/40-rate-limits.md",tags:[],version:"current",sidebarPosition:40,frontMatter:{},sidebar:"autoSidebar",previous:{title:"Authentication",permalink:"/integrate-with-nbold/api/authentication"},next:{title:"Errors",permalink:"/integrate-with-nbold/api/errors"}},s={},d=[{value:"Overview of rate limit tiers",id:"overview-of-rate-limit-tiers",level:2},{value:"What happens when your is exceeding a limit?",id:"what-happens-when-your-is-exceeding-a-limit",level:2},{value:"Common throttling scenarios",id:"common-throttling-scenarios",level:2},{value:"Best practices to avoid throttling",id:"best-practices-to-avoid-throttling",level:2},{value:"Best practices to handle throttling",id:"best-practices-to-handle-throttling",level:2}],p={toc:d},m="wrapper";function g(e){let{components:t,...i}=e;return(0,a.yg)(m,(0,n.A)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"rate-limits"},"Rate limits"),(0,a.yg)("p",null,"The nBold API allows you to access data and to perform operations on multiple services. These services impose their own rate limits that affect applications that use nBold API to access them."),(0,a.yg)("h2",{id:"overview-of-rate-limit-tiers"},"Overview of rate limit tiers"),(0,a.yg)("p",null,'Rate limits are defined as "tiers" applied on a "per user (or app) per tenant" basis.'),(0,a.yg)("p",null,"\u26a0\ufe0f The specific limits described here are subject to change."),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Tier"),(0,a.yg)("th",{parentName:"tr",align:null},"Code"),(0,a.yg)("th",{parentName:"tr",align:null},"Limit"),(0,a.yg)("th",{parentName:"tr",align:null},"Window"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Tier 1"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"tier-1")),(0,a.yg)("td",{parentName:"tr",align:null},"6"),(0,a.yg)("td",{parentName:"tr",align:null},"1 minute")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Tier 2"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"tier-2")),(0,a.yg)("td",{parentName:"tr",align:null},"20"),(0,a.yg)("td",{parentName:"tr",align:null},"1 minute")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Tier 3"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"tier-3")),(0,a.yg)("td",{parentName:"tr",align:null},"60"),(0,a.yg)("td",{parentName:"tr",align:null},"1 minute")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Fair Use"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"fair-use")),(0,a.yg)("td",{parentName:"tr",align:null},"600"),(0,a.yg)("td",{parentName:"tr",align:null},"1 minute")))),(0,a.yg)("p",null,"Each operation in this documentation specifies its rate limits as a tier through the ",(0,a.yg)("inlineCode",{parentName:"p"},"x-nbold-rate-limit")," extension."),(0,a.yg)("h2",{id:"what-happens-when-your-is-exceeding-a-limit"},"What happens when your is exceeding a limit?"),(0,a.yg)("p",null,"When a threshold is exceeded, nBold API limits any further requests from that client for a period of time. When throttling occurs, nBold API returns HTTP status code 429 (Too many requests), and the requests fail."),(0,a.yg)("p",null,"Throttling limits the number of concurrent calls to a service to prevent overuse of resources. nBold API is designed to handle a high volume of requests. If an overwhelming number of requests occurs, throttling helps maintain optimal performance and reliability of the nBold API service."),(0,a.yg)("p",null,"Throttling limits vary based on the scenario. For example, if you are performing a large volume of writes, the possibility for throttling is higher than if you are only performing reads."),(0,a.yg)("p",null,"nBold API is conforming to the ",(0,a.yg)("a",{parentName:"p",href:"https://tools.ietf.org/id/draft-polli-ratelimit-headers-01.html"},"IETF ratelimit standardization proposal"),"."),(0,a.yg)("p",null,"\ud83d\udca1 Note:\nThrottling behavior can depend on the type and number of requests. For example, if you have a high volume of requests, all requests types are throttled. Threshold limits vary based on the request type. Therefore, you could encounter a scenario where writes are throttled but reads are still permitted."),(0,a.yg)("h2",{id:"common-throttling-scenarios"},"Common throttling scenarios"),(0,a.yg)("p",null,"The most common causes of throttling of clients include:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"A large number of requests across all applications in a our environments."),(0,a.yg)("li",{parentName:"ul"},"A large number of requests from a particular application across all environments.")),(0,a.yg)("h2",{id:"best-practices-to-avoid-throttling"},"Best practices to avoid throttling"),(0,a.yg)("p",null,"Programming patterns like continuously polling a resource to check for updates and regularly scanning resource collections to check for new or deleted resources are more likely to lead to applications being throttled and degrade overall performances."),(0,a.yg)("p",null,"Before any throttling, nBold API provides two useful headers included in every responses so that you can monitor your own activity level:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"X-RateLimit-Limit"),': The limit of requests in a perdiod of time (aka "window")'),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"X-RateLimit-Remaining"),": The current number of requests that could be made during the current window.")),(0,a.yg)("h2",{id:"best-practices-to-handle-throttling"},"Best practices to handle throttling"),(0,a.yg)("p",null,"The following are best practices for handling throttling:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Reduce the number of operations per request."),(0,a.yg)("li",{parentName:"ul"},"Reduce the frequency of calls."),(0,a.yg)("li",{parentName:"ul"},"Avoid immediate retries, because all requests accrue against your usage limits.")),(0,a.yg)("p",null,"When you implement error handling, use the HTTP error code 429 to detect throttling. The failed response includes the ",(0,a.yg)("inlineCode",{parentName:"p"},"Retry-After")," response header. Backing off requests using the ",(0,a.yg)("inlineCode",{parentName:"p"},"Retry-After")," delay is the fastest way to recover from throttling because nBold API continues to log resource usage while a client is being throttled."),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Wait the number of seconds specified in the ",(0,a.yg)("inlineCode",{parentName:"li"},"Retry-After")," header."),(0,a.yg)("li",{parentName:"ol"},"Retry the request."),(0,a.yg)("li",{parentName:"ol"},"If the request fails again with a 429 error code, you are still being throttled. Continue to use the recommended ",(0,a.yg)("inlineCode",{parentName:"li"},"Retry-After")," delay and retry the request until it succeeds.")),(0,a.yg)("p",null,"\ud83d\udca1 Note:\nIf no ",(0,a.yg)("inlineCode",{parentName:"p"},"Retry-After")," header is provided by the response, we recommend implementing an exponential backoff retry policy."),(0,a.yg)("p",null,"In addition to the ",(0,a.yg)("inlineCode",{parentName:"p"},"Retry-After")," header, nBold API includes ",(0,a.yg)("inlineCode",{parentName:"p"},"X-RateLimit-Limit")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"X-RateLimit-Remaining")," infos in the body of the throttled response:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-yaml"},"{\n  message: 'Too many requests, please try again later...',\n  rateLimitExceeded: {\n    tier: 'tier-1', # Tier code\n    rateLimitWindow: 60000, # In ms\n    rateLimitMax: 6 # In # of requests\n  }\n}\n")))}g.isMDXComponent=!0}}]);